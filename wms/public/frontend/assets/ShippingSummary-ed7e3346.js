import{M as g,a9 as a,c as n,e as y,f as x,j as b,v as t,I as s,k as _,l as h,t as B,n as D,F as T}from"./frappe-ui-cec019df.js";import{j as k}from"./index-0e5fa8f2.js";const w=t("div",{class:"flex w-full border-none"},[t("h2",{class:"text-lg font-medium text-gray-900"}," Shipping Summary ")],-1),S={id:"purchaseDate",class:"text-base leading-6 bg-white rounded w-full py-6 px-4 border-none"},C={class:"innerDiv"},I={class:"textDiv"},j=t("p",null,"Pending SOs",-1),M={class:"font-bold"},O={class:"textDiv"},P=t("p",null,"Today's Delivery",-1),F={class:"font-bold"},N={class:"innerDiv"},R={class:"textDiv"},Y=t("p",null,"Annual Delivery ",-1),A={class:"font-bold"},V={class:"font-bold"},L={class:"textDiv"},$=t("p",null,"to Invoice",-1),E={class:"font-bold"},q={class:"h-40 w-full flex flex-col items-center justify-center gap-5 p-4 mb-5"},z={class:"flex flex-col gap-1.5 items-center justify-center"},G={class:"font-bold text-xl"},H={class:"font-medium text-gray-500 text-sm"},W={__name:"ShippingSummary",setup(J){const i=g({url:"frappe.auth.get_logged_user"}),l=a({doctype:"Purchase Order",fields:["*"],filters:{owner:i.data,status:"To Receive and Bill",docstatus:1},auto:!0}),f=n(()=>l.data?l.data.length:0),d=a({doctype:"Purchase Order",fields:["*"],filters:{docstatus:1},auto:!0}),p=n(()=>d.data?d.data.filter(e=>e.status==="To Receive and Bill"||e.status==="To Bill").length:0),c=a({doctype:"Purchase Order",fields:["*"],filters:{owner:i.data,status:"To Bill",docstatus:1},auto:!0}),v=n(()=>c.data?c.data.length:0),r=a({doctype:"Purchase Order",fields:["*"],auto:!0}),u=n(()=>{if(r.data)return r.data.reduce((e,o)=>e+parseFloat(o.net_total||0),0)});return(e,o)=>{const m=y("Button");return x(),b(T,null,[w,t("div",S,[t("div",C,[t("div",I,[j,t("h3",M,s(f.value),1)]),t("div",O,[P,t("h3",F,s(p.value),1)])]),t("div",N,[t("div",R,[Y,t("h3",A,[t("h3",V,"$"+s(u.value!==void 0?u.value.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"0.00"),1)])]),t("div",L,[$,t("h3",E,s(v.value),1)])])]),_(D(k),{ref:"modal",trigger:"open-checkin-modal","initial-breakpoint":1,breakpoints:[0,1]},{default:h(()=>[t("div",q,[t("div",z,[t("div",G,s(e.dayjs(e.checkinTimestamp).format("hh:mm:ss a")),1),t("div",H,s(e.dayjs().format("D MMM, YYYY")),1)]),_(m,{variant:"solid",class:"w-full py-5 text-sm",onClick:o[0]||(o[0]=K=>e.submitLog(e.nextAction.action))},{default:h(()=>[B(" Confirm "+s(e.nextAction.label),1)]),_:1})])]),_:1},512)],64)}}};export{W as default};
