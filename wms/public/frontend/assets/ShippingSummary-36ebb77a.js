import{R as g,H as a,B as n,E as y,o as x,i as b,d as t,t as s,g as _,w as h,e as B,u as D,a9 as w,F as T}from"./index-c4230fc7.js";const S=t("div",{class:"flex w-full border-none"},[t("h2",{class:"text-lg font-medium text-gray-900"}," Shipping Summary ")],-1),k={id:"purchaseDate",class:"text-base leading-6 bg-white rounded w-full py-6 px-4 border-none"},C={class:"innerDiv"},I={class:"textDiv"},O=t("p",null,"Pending SOs",-1),P={class:"font-bold"},R={class:"textDiv"},j=t("p",null,"Today's Delivery",-1),F={class:"font-bold"},M={class:"innerDiv"},N={class:"textDiv"},Y=t("p",null,"Annual Delivery ",-1),A={class:"font-bold"},V={class:"font-bold"},E={class:"textDiv"},L=t("p",null,"to Invoice",-1),$={class:"font-bold"},H={class:"h-40 w-full flex flex-col items-center justify-center gap-5 p-4 mb-5"},q={class:"flex flex-col gap-1.5 items-center justify-center"},z={class:"font-bold text-xl"},G={class:"font-medium text-gray-500 text-sm"},U={__name:"ShippingSummary",setup(J){const i=g({url:"frappe.auth.get_logged_user"}),l=a({doctype:"Purchase Order",fields:["*"],filters:{owner:i.data,status:"To Receive and Bill",docstatus:1},auto:!0}),f=n(()=>l.data?l.data.length:0),d=a({doctype:"Purchase Order",fields:["*"],filters:{docstatus:1},auto:!0}),p=n(()=>d.data?d.data.filter(e=>e.status==="To Receive and Bill"||e.status==="To Bill").length:0),c=a({doctype:"Purchase Order",fields:["*"],filters:{owner:i.data,status:"To Bill",docstatus:1},auto:!0}),v=n(()=>c.data?c.data.length:0),r=a({doctype:"Purchase Order",fields:["*"],auto:!0}),u=n(()=>{if(r.data)return r.data.reduce((e,o)=>e+parseFloat(o.net_total||0),0)});return(e,o)=>{const m=y("Button");return x(),b(T,null,[S,t("div",k,[t("div",C,[t("div",I,[O,t("h3",P,s(f.value),1)]),t("div",R,[j,t("h3",F,s(p.value),1)])]),t("div",M,[t("div",N,[Y,t("h3",A,[t("h3",V,"$"+s(u.value!==void 0?u.value.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"0.00"),1)])]),t("div",E,[L,t("h3",$,s(v.value),1)])])]),_(D(w),{ref:"modal",trigger:"open-checkin-modal","initial-breakpoint":1,breakpoints:[0,1]},{default:h(()=>[t("div",H,[t("div",q,[t("div",z,s(e.dayjs(e.checkinTimestamp).format("hh:mm:ss a")),1),t("div",G,s(e.dayjs().format("D MMM, YYYY")),1)]),_(m,{variant:"solid",class:"w-full py-5 text-sm",onClick:o[0]||(o[0]=K=>e.submitLog(e.nextAction.action))},{default:h(()=>[B(" Confirm "+s(e.nextAction.label),1)]),_:1})])]),_:1},512)],64)}}};export{U as default};
