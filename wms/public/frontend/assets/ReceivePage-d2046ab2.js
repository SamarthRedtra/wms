var C=(k,a,r)=>new Promise((s,m)=>{var _=o=>{try{u(r.next(o))}catch(l){m(l)}},w=o=>{try{u(r.throw(o))}catch(l){m(l)}},u=o=>o.done?s(o.value):Promise.resolve(o.value).then(_,w);u((r=r.apply(k,a)).next())});import{r as g,q as I,B as h,C as F,E as P,b as x,w as b,o as d,d as t,g as c,e as q,f as E,i as R,j as S,u as B,x as D,t as p,F as j}from"./index-03cc7949.js";import Q from"./PurchaceSummary-dae91c40.js";import M from"./QuickLinks-415239a9.js";import A from"./BaseLayout-33181b3c.js";import O from"./TabButtons-7566b17a.js";import{_ as L}from"./RequestList-b5f45fe9.js";import{a as U}from"./axios-fc3df026.js";/* empty css                                                        */import"./notifications-9b74206f.js";/* empty css                                                   */import"./Badge.vue_vue_type_script_setup_true_lang-f8773a69.js";import"./EmployeeAvatar-79c3a758.js";import"./RequestActionSheet.vue_vue_type_style_index_0_scoped_5369b918_lang-441bde29.js";import"./formatters-2eb52fa8.js";const z={class:"flex flex-col items-center my-7 p-4 gap-7"},G={class:"w-full"},H={class:"w-full"},J={id:"receiptDetail",class:"flex flex-col gap-5 my-4 py-5 w-full"},K={class:"flex flex-col bg-white rounded"},W=["onClick"],X={class:"flex flex-row items-center gap-3 grow"},Y={class:"text-xs font-normal text-gray-800 leading-6"},Z={id:"circle"},ee={class:"flex justify-center gap-2"},te=["disabled"],ae=["disabled"],y=6,xe={__name:"ReceivePage",setup(k){const a=g("Pending Receipt");I(()=>{console.log("RequestPanel.vue is mounted")});const r=e=>{a.value=e,emit("tab-clicked",e)},s=g(1),m=[{title:"Print Stock Labels",route:"PrintLab"},{title:"Quality Inspection List",route:"QualityInspection"},{title:"Stock Entry List",route:"StockEntryList"}];let _=g([]);(()=>C(this,null,function*(){try{const e=yield U.get("/api/method/wms.api.my_api.get_purchase_receiptIII",{});_.value=e.data.message}catch(e){console.log("error while fetching data",error.response)}}))();const u=h(()=>{const e=_.value||[];return console.log("activeTab",a.value),a.value==="Pending Receipt"?e.filter(n=>n.status==="Draft"):a.value==="Completed Receipt"?e.filter(n=>n.status==="To Bill"):e}),o=h(()=>{const e=(s.value-1)*y,n=e+y;return u.value.slice(e,n).sort((f,v)=>v.name.localeCompare(f.name))}),l=h(()=>Math.ceil(u.value.length/y)),T=()=>{s.value<l.value&&s.value++},V=()=>{s.value>1&&s.value--},N=F(),$=e=>{N.push({name:"FormView",query:{linkName:e.name}})};return(e,n)=>{const f=P("Button"),v=P("router-link");return d(),x(A,{pageTitle:"Receive"},{body:b(()=>[t("div",z,[c(Q),c(M,{items:m,title:"Quick Links"}),t("div",G,[c(v,{to:{name:"FormView"}},{default:b(({navigate:i})=>[c(f,{onClick:i,variant:"solid",class:"w-full py-5 text-base font-bold"},{default:b(()=>[q(" New Purchase Receipt ")]),_:2},1032,["onClick"])]),_:1})]),t("div",H,[c(O,{buttons:[{label:"Pending Receipt"},{label:"Completed Receipt"}],modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=i=>a.value=i),onTabClicked:r},null,8,["modelValue"]),a.value==="Pending Receipt"?(d(),x(L,{key:0})):a.value==="Completed Receipt"?(d(),x(L,{key:1})):E("",!0)]),t("div",J,[t("div",K,[(d(!0),R(j,null,S(o.value,i=>(d(),R("div",{id:"basedOnActiveTabs",class:"flex flex-row flex-start p-4 items-center justify-between border-b",key:i.id,onClick:se=>$(i)},[t("div",X,[c(B(D),{name:"shopping-cart",class:"h-5 w-5 text-gray-500"}),t("div",Y,[t("p",null,p(i.name),1),t("p",null,p(i.posting_date),1)]),t("div",Z,p(i.status),1)]),c(B(D),{name:"chevron-right",class:"h-5 w-5 text-gray-500"})],8,W))),128))])]),t("div",ee,[t("button",{class:"paginationButton",onClick:V,disabled:s.value===1},"Prev",8,te),t("span",null,p(s.value)+" of "+p(l.value),1),t("button",{class:"paginationButton",onClick:T,disabled:s.value===l.value},"Next",8,ae)])])]),_:1})}}};export{xe as default};
