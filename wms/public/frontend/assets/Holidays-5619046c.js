import{A as g,R as B,B as Y,E as C,o as t,i as o,d as e,u as r,f as h,F as d,j as b,g as w,x as v,t as c,b as k,w as E,n as M,a9 as V}from"./index-03cc7949.js";const A={class:"flex flex-col gap-5 w-full"},D={class:"flex flex-row justify-between items-center"},H=e("div",{class:"text-lg text-gray-800 font-bold"},"Upcoming Holidays",-1),N={key:0,id:"open-holiday-list",class:"text-sm text-gray-800 font-semibold cursor-pointer underline underline-offset-2"},S={key:0,class:"flex flex-col bg-white rounded"},$={class:"flex flex-row items-center gap-3 grow"},F={class:"text-base font-normal text-gray-800"},L={class:"text-base font-bold text-gray-800"},R={class:"bg-white w-full flex flex-col items-center justify-center pb-5"},z=e("div",{class:"w-full pt-8 pb-5 border-b text-center"},[e("span",{class:"text-gray-900 font-bold text-lg"},"Holiday List")],-1),I={class:"w-full flex flex-col items-center justify-center gap-5 p-4"},U={class:"flex flex-row items-center gap-3 grow"},q={class:"text-base font-normal text-gray-800"},K={__name:"Holidays",setup(G){const j=g("$employee"),_=g("$dayjs"),i=B({url:"wms.api.get_holidays_for_employee",params:{employee:j.data.name},auto:!0,transform:l=>l.map(s=>{const n=_(s.holiday_date);return s.is_upcoming=n.isAfter(_()),s.formatted_holiday_date=n.format("ddd, D MMM YYYY"),s})}),f=Y(()=>{var s;const l=(s=i.data)==null?void 0:s.filter(n=>n.is_upcoming);return l==null?void 0:l.slice(0,5)});return(l,s)=>{var m,u,p,x,y;const n=C("EmptyState");return t(),o(d,null,[e("div",A,[e("div",D,[H,(u=(m=r(i))==null?void 0:m.data)!=null&&u.length?(t(),o("div",N," View All ")):h("",!0)]),(p=f.value)!=null&&p.length?(t(),o("div",S,[(t(!0),o(d,null,b(f.value,a=>(t(),o("div",{class:"flex flex-row flex-start p-4 items-center justify-between border-b",key:a.holiday_date},[e("div",$,[w(r(v),{name:"calendar",class:"h-5 w-5 text-gray-500"}),e("div",F,c(a.description),1)]),e("div",L,c(a.formatted_holiday_date),1)]))),128))])):(t(),k(n,{key:1,message:"You have no upcoming holidays"}))]),(y=(x=r(i))==null?void 0:x.data)!=null&&y.length?(t(),k(r(V),{key:0,ref:"modal",trigger:"open-holiday-list","initial-breakpoint":1,breakpoints:[0,1]},{default:E(()=>[e("div",R,[z,e("div",I,[(t(!0),o(d,null,b(r(i).data,a=>(t(),o("div",{key:a.holiday_date,class:"flex flex-row items-center justify-between w-full"},[e("div",U,[w(r(v),{name:"calendar",class:"h-5 w-5 text-gray-500"}),e("div",q,c(a.description),1)]),e("div",{class:M(["text-base font-bold",a.is_upcoming?"text-gray-800":"text-gray-500"])},c(a.formatted_holiday_date),3)]))),128))])])]),_:1},512)):h("",!0)],64)}}};export{K as default};
