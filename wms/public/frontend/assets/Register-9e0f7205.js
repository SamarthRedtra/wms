var k=(d,c,r)=>new Promise((u,n)=>{var p=a=>{try{m(r.next(a))}catch(t){n(t)}},b=a=>{try{m(r.throw(a))}catch(t){n(t)}},m=a=>a.done?u(a.value):Promise.resolve(a.value).then(p,b);m((r=r.apply(d,c)).next())});import{_ as N,r as _,C as V,E as S,b as C,w as f,u as y,o as R,g as x,d as e,J as I,s as g,v,k as T,e as w,a3 as q,af as A,p as M,l as P}from"./index-c4230fc7.js";import{a as U}from"./axios-fc3df026.js";import{s as h}from"./dialogs-d9e5d847.js";const i=d=>(M("data-v-56fa4922"),d=d(),P(),d),j={class:"flex flex-col h-screen w-screen items-center justify-center"},B={class:"w-full sm:w-96 bg-white p-6 rounded shadow-md"},E=i(()=>e("h2",{class:"text-2xl font-bold mb-4 text-center"},"Create an Account",-1)),L=["onSubmit"],F={class:"mb-4 ml-6"},J=i(()=>e("label",{class:"block text-gray-700"},"First Name",-1)),O={class:"mb-4 ml-6"},X=i(()=>e("label",{class:"block text-gray-700"},"Last Name",-1)),D={class:"mb-4 ml-6"},K=i(()=>e("label",{class:"block text-gray-700"},"Email",-1)),$={class:"mb-4 ml-6"},z=i(()=>e("label",{class:"block text-gray-700"},"Password",-1)),G={class:"mb-4 ml-6"},H=i(()=>e("label",{class:"block text-gray-700"},"Confirm Password",-1)),Q={class:"mt-4 text-center"},W={__name:"Register",setup(d){const c=_(""),r=_(""),u=_(""),n=_(""),p=_(""),b=V(),m=()=>{var s;return((s=document.cookie.match("(^|;)\\s*sid\\s*=\\s*([^;]+)"))==null?void 0:s[2])||""},a=()=>k(this,null,function*(){if(n.value!==p.value){h("Passwords do not match");return}try{const t=m(),l=(yield U.post("/api/method/wms.api.my_api.create_user",{email:u.value,first_name:c.value,last_name:r.value,password:n.value},{headers:{"X-XSRF-TOKEN":t,"Content-Type":"application/json",Accept:"application/json"}})).data;l.status==="success"?(alert(l.message),b.push({name:"Login"})):(h(l.message),b.push({name:"Login"}))}catch(t){if(t.response&&t.response.data&&t.response.data._server_messages){const l=JSON.parse(t.response.data._server_messages).map(o=>JSON.parse(o).message).join(" ");h(l)}else h("An error occurred during registration");console.error("Registration error:",t)}});return(t,s)=>{const l=S("router-link");return R(),C(y(A),null,{default:f(()=>[x(y(q),{class:"ion-padding"},{default:f(()=>[e("div",j,[e("div",B,[E,e("form",{onSubmit:I(a,["prevent"])},[e("div",F,[J,g(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>c.value=o),type:"text",class:"h-8 p-2 border border-gray-300 rounded mt-1",required:""},null,512),[[v,c.value]])]),e("div",O,[X,g(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>r.value=o),type:"text",class:"h-8 p-2 border border-gray-300 rounded mt-1",required:""},null,512),[[v,r.value]])]),e("div",D,[K,g(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>u.value=o),type:"email",class:"h-8 p-2 border border-gray-300 rounded mt-1",required:""},null,512),[[v,u.value]])]),e("div",$,[z,g(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>n.value=o),type:"password",class:"h-8 p-2 border border-gray-300 rounded mt-1",required:""},null,512),[[v,n.value]])]),e("div",G,[H,g(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>p.value=o),type:"password",class:"h-8 p-2 border border-gray-300 rounded mt-1",required:""},null,512),[[v,p.value]])]),x(y(T),{type:"submit",variant:"solid",class:"bg-black-700 text-white",id:"registerBtn"},{default:f(()=>[w("Register")]),_:1})],40,L),e("p",Q,[w(" Already have an account? "),x(l,{to:"/login",class:"text-blue-500"},{default:f(()=>[w("Login")]),_:1})])])])]),_:1})]),_:1})}}},te=N(W,[["__scopeId","data-v-56fa4922"]]);export{te as default};
