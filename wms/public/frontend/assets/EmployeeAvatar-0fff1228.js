var f=(u,l,e)=>new Promise((n,s)=>{var t=a=>{try{r(e.next(a))}catch(o){s(o)}},i=a=>{try{r(e.throw(a))}catch(o){s(o)}},r=a=>a.done?n(a.value):Promise.resolve(a.value).then(t,i);r((e=e.apply(u,l)).next())});import{a as d,w as _,b as v,f as m,j as h,k as y,n as g,am as p,v as b,I as k,x as w}from"./frappe-ui-cec019df.js";import{u as x}from"./index-0e5fa8f2.js";const z={key:0,class:"flex flex-row items-center gap-2"},I={class:"text-base text-gray-800 grow"},B="path/to/default/avatar/image.png",S={__name:"EmployeeAvatar",props:{userID:{type:String,required:!1},size:{type:String,default:"sm"},showLabel:{type:Boolean,default:!1}},setup(u){const l=u;console.log("user avtar",l.userID);const e=d(null),n=s=>f(this,null,function*(){try{console.log(`Fetching user info for userID: ${s}`);const t=yield x.fetch({user_id:s});console.log("API response:",t),e.value=t.data}catch(t){console.error("Error fetching user info:",t),e.value=null}});return _(()=>l.userID,s=>{s?n(s):n()},{immediate:!0}),v(()=>{l.userID||n()}),(s,t)=>{var i,r,a,o,c;return u.showLabel&&e.value?(m(),h("div",z,[y(g(p),{label:(i=e.value)==null?void 0:i.full_name,image:(r=e.value)==null?void 0:r.user_image,size:l.size},null,8,["label","image","size"]),b("div",I,k((a=e.value)==null?void 0:a.full_name),1)])):(m(),w(g(p),{key:1,label:((o=e.value)==null?void 0:o.full_name)||"Unknown User",image:((c=e.value)==null?void 0:c.user_image)||B,size:l.size},null,8,["label","image","size"]))}}};export{S as default};
