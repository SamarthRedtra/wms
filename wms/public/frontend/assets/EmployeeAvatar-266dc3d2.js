var f=(u,t,e)=>new Promise((n,s)=>{var l=a=>{try{r(e.next(a))}catch(o){s(o)}},i=a=>{try{r(e.throw(a))}catch(o){s(o)}},r=a=>a.done?n(a.value):Promise.resolve(a.value).then(l,i);r((e=e.apply(u,t)).next())});import{r as p,I as _,q as v,o as m,i as h,g as y,u as g,d as b,t as z,b as k,U as w}from"./index-c4230fc7.js";import{_ as d}from"./notifications-765e05d1.js";const x={key:0,class:"flex flex-row items-center gap-2"},I={class:"text-base text-gray-800 grow"},B="path/to/default/avatar/image.png",S={__name:"EmployeeAvatar",props:{userID:{type:String,required:!1},size:{type:String,default:"sm"},showLabel:{type:Boolean,default:!1}},setup(u){const t=u;console.log("user avtar",t.userID);const e=p(null),n=s=>f(this,null,function*(){try{console.log(`Fetching user info for userID: ${s}`);const l=yield w.fetch({user_id:s});console.log("API response:",l),e.value=l.data}catch(l){console.error("Error fetching user info:",l),e.value=null}});return _(()=>t.userID,s=>{s?n(s):n()},{immediate:!0}),v(()=>{t.userID||n()}),(s,l)=>{var i,r,a,o,c;return u.showLabel&&e.value?(m(),h("div",x,[y(g(d),{label:(i=e.value)==null?void 0:i.full_name,image:(r=e.value)==null?void 0:r.user_image,size:t.size},null,8,["label","image","size"]),b("div",I,z((a=e.value)==null?void 0:a.full_name),1)])):(m(),k(g(d),{key:1,label:((o=e.value)==null?void 0:o.full_name)||"Unknown User",image:((c=e.value)==null?void 0:c.user_image)||B,size:t.size},null,8,["label","image","size"]))}}};export{S as default};
