var y=(R,s,l)=>new Promise((v,n)=>{var i=t=>{try{c(l.next(t))}catch(u){n(u)}},b=t=>{try{c(l.throw(t))}catch(u){n(u)}},c=t=>t.done?v(t.value):Promise.resolve(t.value).then(i,b);c((l=l.apply(R,s)).next())});import{a as _,c as q,a7 as N,e as P,x as g,l as h,f as d,k as p,v as e,n as x,q as w,t as C,$ as T,j as k,E as V,I as f,F as $}from"./frappe-ui-cec019df.js";import B from"./BaseLayout-ecda517c.js";import M from"./TabButtons-8724663b.js";import{_ as I}from"./RequestList-787fbb4d.js";import{a as D}from"./axios-fc3df026.js";import"./index-0e5fa8f2.js";import"./notifications-0a235be6.js";/* empty css                                                   */import"./EmployeeAvatar-0fff1228.js";import"./RequestActionSheet.vue_vue_type_style_index_0_scoped_5369b918_lang-32e4c0e0.js";import"./formatters-e2b36d58.js";const F={class:"flex items-center bg-black text-white rounded-full py-1 px-3 focus:outline-none text-xs"},j={class:"flex flex-col items-center my-7 p-4 gap-7"},E={class:"w-full"},S={class:"flex flex-col gap-5 my-4 w-full"},L={class:"flex flex-col bg-white rounded cursor-pointer"},U=["onClick"],z={class:"flex flex-row items-center gap-3 grow"},A={id:"fontChange",class:"font-normal text-gray-800 leading-6"},G={id:"circlei"},oe={__name:"MaterialRequest",setup(R){const s=_("Pending Receipt"),l=r=>{s.value=r,emit("tab-clicked",r)},v=()=>{t.push({name:"ReceivePage"})};_([]);const n=_([]),i=_([]);(()=>y(this,null,function*(){const m=(yield D.get("/api/method/wms.api.my_api.get_material_request_list")).data.message;n.value=m.filter(o=>o.docstatus===0?(o.status="Draft",!0):!1),i.value=m.filter(o=>o.docstatus===1?(o.status="Submitted",!0):!1),console.log("Pending Receipt Items:",n.value),console.log("Completed Receipt Items:",i.value)}))();const c=q(()=>s.value==="Pending Receipt"?n.value:s.value==="Completed Receipt"?i.value:[]),t=N(),u=r=>{t.push({name:"NewMaterialRequest",query:{linkName:r.name}})};return(r,m)=>{const o=P("router-link");return d(),g(B,{pageTitle:"Material Request",home:"home",onCartIconClick:v},{profileButton:h(()=>[p(o,{to:{name:"NewMaterialRequest"},class:"flex flex-col items-center"},{default:h(()=>[e("button",F,[p(x(w),{name:"plus",class:"h-4 w-4 mr-1"}),C(" New ")])]),_:1})]),body:h(()=>[e("div",j,[e("div",E,[p(M,{buttons:[{label:"Pending Receipt"},{label:"Completed Receipt"}],modelValue:s.value,"onUpdate:modelValue":m[0]||(m[0]=a=>s.value=a),onTabClicked:l},null,8,["modelValue"]),s.value==="Pending Receipt"?(d(),g(I,{key:0})):s.value==="Completed Receipt"?(d(),g(I,{key:1})):T("",!0)]),e("div",S,[e("div",L,[(d(!0),k($,null,V(c.value,a=>(d(),k("div",{class:"flex flex-row flex-start p-4 items-center justify-between border-b",key:a.name,onClick:H=>u(a)},[e("div",z,[p(x(w),{name:"shopping-bag",class:"h-6 w-6 text-black-500"}),e("div",A,[e("p",null,[C(f(a.name)+" : ",1),e("span",null,f(a.set_warehouse),1)]),e("p",null,f(a.modified),1)]),e("div",G,f(a.status),1)]),p(x(w),{name:"chevron-right",class:"h-5 w-5 text-gray-500"})],8,U))),128))])])])]),_:1})}}};export{oe as default};
